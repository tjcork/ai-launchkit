services:
  uptime-kuma:
    image: louislam/uptime-kuma:2
    container_name: uptime-kuma
    profiles:
    - uptime-kuma
    restart: unless-stopped
    volumes:
    - uptime-kuma_data:/app/data
    - ${PROJECT_ROOT}/services/.shared-resources/shared:/data/shared
    - /var/run/docker.sock:/var/run/docker.sock:ro
    env_file:
      - .env
    environment:
    - TZ=${TZ:-Europe/Berlin}
    healthcheck:
      test:
      - CMD-SHELL
      - curl -f http://localhost:3001 || exit 1
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 20s

volumes:
  uptime-kuma_data: {}
